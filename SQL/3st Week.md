# SQL_BASIC 3주차 정규 과제 

📌SQL_BASIC 정규과제는 매주 정해진 분량의 `초보자를 위한 BigQuery(SQL) 입문` 강의를 듣고 간단한 문제를 풀면서 학습하는 것입니다. 이번주는 아래의 **SQL_Basic_3rd_TIL**에 나열된 분량을 수강하고 `학습 목표`에 맞게 공부하시면 됩니다.

**3주차 과제는 문제 풀이를 중심으로**, 강의에서 제시된 예제 문제 중 **7 문제 이상을 선택하여 직접 풀어본 뒤**, 강의 영상의 풀이와 비교해 **틀린 부분, 맞은 부분, 새롭게 배운 개념**을 구체적으로 정리해주세요. (적어도 3문제는 정리해야 합니다.) 완성된 과제는 Gihub에 업로드하고, 링크를 스프레드시트 'SQL' 시트에 입력해 제출해주세요.

**(수행 인증샷은 필수입니다.)** 

## SQL_BASIC_3rd

### 섹션 3. 데이터 탐색 - 조건, 추출, 요약

### 2-6. 연습문제 1~3번

### 2-6. 연습문제 7~9번

### 2-6. 연습문제 10~12번

### 2-6. 연습문제 13~17번

### 2-7. 정리 

### 2-8. 새로운 집계함수



## 섹션 4. 쿼리 잘 작성하기, 쿼리 작성 템플릿 및 오류를 잘 디버깅하기

### 3-1. INTRO

### 3-2. SQL 쿼리 작성하는 흐름

### 3-3. 쿼리 작성 템플릿과 생산성 도구 



## 🏁 강의 수강 (Study Schedule)

| 주차  | 공부 범위              | 완료 여부 |
| ----- | ---------------------- | --------- |
| 1주차 | 섹션 **1-1** ~ **2-2** | ✅         |
| 2주차 | 섹션 **2-3** ~ **2-5** | ✅         |
| 3주차 | 섹션 **2-6** ~ **3-3** | ✅         |
| 4주차 | 섹션 **3-4** ~ **4-4** | 🍽️         |
| 5주차 | 섹션 **4-4** ~ **4-9** | 🍽️         |
| 6주차 | 섹션 **5-1** ~ **5-7** | 🍽️         |
| 7주차 | 섹션 **6-1** ~ **6-6** | 🍽️         |

<br>

<!-- 여기까진 그대로 둬 주세요-->

---

# 1️⃣ 개념정리

## 2-6. 연습문제

~~~
✅ 학습 목표 :
* 연습문제(7문제 이상) 푼 것들 정리하기
~~~

<!-- 새롭게 배운 내용을 자유롭게 정리해주세요.-->

### 연습문제 1번
![alt text](Images_3/연습문제1.png)

### 연습문제 2번
![alt text](Images_3/연습문제2.png)

- 주의 : SELECT 뒤에 두 개를 입력하고 싶으면 ,로 연결

### 연습문제 3번
![alt text](Images_3/연습문제3.png)

< 헷갈리는 부분 >

`"상관없이"` : 조건으로 적용 X

### 연습문제 4번
![alt text](Images_3/연습문제4.png)

### 연습문제 5번
![alt text](Images_3/연습문제5.png)

### 연습문제 5번(서브쿼리)
![alt text](Images_3/연습문제5(서브쿼리).png)

### 연습문제 6번
![alt text](Images_3/연습문제6.png)

### 연습문제 7번
![alt text](Images_3/연습문제7.png)

### 연습문제 8번
![alt text](Images_3/연습문제8.png)

### 연습문제 9번
![alt text](Images_3/연습문제9.png)

### 연습문제 10번
![alt text](Images_3/연습문제10.png)

### 연습문제 11번
![alt text](Images_3/연습문제11.png)

### 연습문제 12번
![alt text](Images_3/연습문제12.png)

### 연습문제 13번
![alt text](Images_3/연습문제13.png)

### 연습문제 14번
![alt text](Images_3/연습문제14.png)

### 연습문제 15번
![alt text](Images_3/연습문제15.png)

### 연습문제 16번
![alt text](Images_3/연습문제16.png)

### 연습문제 17번
![alt text](Images_3/연습문제17.png)

### [ SQL 쿼리문 작성할 때 ]

1. 테이블? 
2. 조건?
3. 컬럼?
4. 집계?

### 개념

**NULL** : 값이 없는 상태 (0과 다름)
	
    연산자 
    : IS NULL OR IS NOT NULL
	-> 다른 값과 비교 X
    (거짓이 아니라 '알 수 없음')

**AND 조건** 

~~~
모든 조건 : 참 -> 전체 : 참
- 교집합
~~~

**OR 조건**  
~~~ 
여러 조건 중 하나만 참 
-> 전체 : 참 
- 합집합
* ( 괄호 ) 꼭 써주기
~~~

**집계함수**

: 여러 행(row)의 데이터를 집계해서 하나의 값으로 보여주는 함수

Ex. COUNT(), SUM(), AVG(), MAX(), MIN()
	
    집계 함수는 그룹별로 요약해주는 짝꿍 필요!
	-> GROUP BY와 함께 사용

* COUNTIF : COUNT+WHERE(조건)


**DISTINCT**

: 고유한 값(Unique한 값)만 보고 싶을 때 사용

	중복이 있게 설계된 컬럼에서 
    고유값만 뽑고 싶을 때 사용!

	Ex. DAU(Daily Active User) : Active한 유저(포털 방문자)의 수를 하루 단위로 집계

**WHERE VS HAVING**

**WHERE**

: 원본 데이터 FROM 절에 있는 데이터에 조건을 설정하고 싶은 경우

	- 그룹화 하기 전, 데이터의 개별 행 하나하나를 보면서 조건 확인

	- 일반적인 연산자 사용 
    Ex. =, >, <, LIKE, IN

**HAVING** 

: GROUP BY와 함께 집계 결과에 조건을 설정하고 싶은 경우

	- 집계함수 사용 
    
    EX. COUNT(), COUNTIF(), SUM(), AVG(), MAX(), MIN()

> 공통점 : 최종적으로 참/거짓으로 판별되는 조건문이 와야 한다는 점

* WHERE + 서브쿼리 => HAVING과 같은 효과

**GROUP BY, ORDER BY 절** 

: 숫자 사용 가능

    1 : SELECT의 첫 컬럼을 의미 

    2 : SELECT의 두번째 컬럼을 의미 

=> 쿼리를 빠르게 작성하고 결과를 볼 때 이렇게 쓰는 걸 추천

But 완성된 쿼리문에서는 1, 2같은 표현보다는 가독성을 위해 명확하게 컬럼을 명시하는 게 좋다.

**IN** 

    컬럼에 괄호 안의 Value가 있는 행만 추출

**LIMIT**

    SQL 쿼리의 결과물 개수를 제한하는 명령어 

**LIKE "특정단어%"**

- LIKE : 문자열 칼럼에서 특정 단어가 포함되어 있는지 알고 싶을 때 사용

- "%파" : 파로 끝나는 단어 

- "파%" : 파로 시작하는 단어

- "%파%" : 파가 들어간 단어

**IN VS LIKE**

**IN**

    : 여러 값 중 하나와 정확히 일치하는 값(정확성)
    
    Ex. country IN ('한국', '일본', '미국')	

**LIKE**

    : 문자열 패턴이 일치하는 값(유연성)

    Ex. name LIKE '김%'

## 2-8. 새로운 집계함수

~~~
✅ 학습 목표 :
* SQL 쿼리 구조를 이해할 수 있다. 
* SELECT, FROM, WHERE을 활용하는 방법을 설명할 수 있다. 
~~~

<!-- 새롭게 배운 내용을 자유롭게 정리해주세요.-->

**GROUP BY ALL** 

: 그룹화 할 컬럼 명시 안해도 사용 가능

-> 알아서 추론

## 3-2. 쿼리를 작성하는 흐름

~~~
✅ 학습 목표 :
* 쿼리를 작성하는 흐름을 설명할 수 있다.
~~~

<!-- 새롭게 배운 내용을 자유롭게 정리해주세요.-->

### 흐름순서

1. 지표 고민 : 문제 정의 - 어떤 문제를 해결하기 위해 데이터가 필요한가?

2. 지표 구체화 : 추상적이지 않고 구체적인 지표 명시(분자, 분포 표시) 

    `+` 이름 : 구체적

3. 지표 탐색 : 유사한 문제를 해결한 케이스가 있나 확인

	- 존재 : 해당 쿼리 리뷰
	- 존재 X : 구글링 + Gpt 
    
        -> 쿼리 작성

4. 쿼리 작성 : 데이터가 있는 테이블(ERD) 찾기

	> ERD(Entity-Relationship Diagram) : 데이터의 설계도 
    - 데이터베이스를 어떻게 만들지 구조를 설계한 그림
    - 아직 데이터가 존재하지 않는 계획 단계에서 사용

- 테이블 1개 : 활용
- 테이블 2개 : JOIN(연결 방법) 고민

5. 데이터 정합성 확인 : 예상한 결과와 동일한지 확인

- 데이터 지표 맞게 뽑혔는지 확인 필수

6. 쿼리 가독성 : 읽기 쉽게 하기

7. 쿼리 저장 : 쿼리는 재사용되므로 문서로 저장(내가 다시 사용할 쿼리)


*쿼리 작성 = 문제를 많이 풀수록 늘게 됨*

***회사에서 중요 : 지표 고민 / 데이터 정합성 확인 / 쿼리 가독성***

## 3-3. 쿼리 작성 템플릿과 생산성 도구

~~~
✅ 학습 목표 :
* 생산성 도구를 만들 수 있다.
~~~

<!-- 이어질 주차에서 생산성 도구를 활용한 실습이 있습니다.강의에 맞게 제작하여 화면을 캡쳐하여 이 주석을 지우고 올려주세요. -->

### 쿼리 작성 템플릿

- 쿼리를 작성하는 목표, 확인할 지표 : 데이터 정의

- 쿼리 계산 방법 : 집계, 집계가 아닌 컬럼인가 등등

- 데이터의 기간 : 데이터가 클 때 분석하고자 하면 느리고 비용은 많이 든다
- 사용할 테이블

- JOIN KEY : 두 개 이상의 테이블 연결

- 데이터의 특징 : 어떤 칼럼은 어떤 값을 가지고 있고 어떤 특징을 가지고 있다 등등 기록

SELECT

FROM

WHERE

<br>
<br>

---

# 2️⃣ 학습 인증란

<!-- 이 글을 지우고, 여기에 학습한 것을 인증해주세요.-->



<br><br>



---

# 3️⃣ 확인문제

## 문제 1

> **🧚Q. 포켓몬 게임에 재미를 느낀 동혁은 포켓몬 도감에서 강력한 포켓몬 타입을 미리 선점하기 위해, 먼저 어떤 포켓몬들이 있는지 포켓몬 수를 기준으로 내림차순 정렬하여  확인하고자 했습니다.**
>
> 그래서 다음과 같은 필요한 정보를 미리 정리해보았습니다. 

~~~
조건 : type2는 상관없이
보고 싶은 컬럼 : type1
집계 내용 : 각 type1 별 포켓몬 수
정렬 기준 : 포켓몬 수를 기준으로 내림차순 정렬
~~~

> **이 목표를 바탕으로 동혁이 아래와 같은 쿼리를 잘 작성했지만, 일부 SQL 문법 요소를 빼먹었습니다. 비어 있는 부분인 ㄱ,ㄴ,ㄷ 에 들어갈 알맞은 SQL 구문을 채워보세요:**

~~~sql
SELECT type1, (ㄱ)
FROM pokemon
(ㄴ) type1
ORDER BY (ㄱ) (ㄷ);
~~~



~~~
여기에 답을 작성해주세요!
~~~



### 🎉 수고하셨습니다.